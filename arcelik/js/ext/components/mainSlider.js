var mainSlider={el:{btn:".hotspot-item",content:".hotspot-btn"},cls:{left:"left",right:"right"},init:function(){var e=this;e.setSize(),e.sliderAutoSize(),e.events()},positionControl:function(e){var t=this,i=(e.removeClass(t.cls.right+" "+t.cls.left),e.find(t.el.content).outerWidth()),n=e.find(t.el.content).offset().left,s=$("body").outerWidth(),r=$("body").offset().left;r+s<n+i?e.removeClass(t.cls.left).addClass(t.cls.right):n<r?e.removeClass(t.cls.right).addClass(t.cls.left):e.removeClass(t.cls.right+" "+t.cls.left)},setSize:function(){$.each($(".bnr-hotspot.bnr-new-slider"),function(e,t){var i=$(t).find(".bnr-media picture > img"),n=$(t).find(".hotspot-wrapper");$(n).width(i.innerWidth()).height(i.innerHeight()),$(i).on("load",function(){$(n).width(i.innerWidth()).height(i.innerHeight())})})},sliderAutoSize:function(){$.each($(".bnr-new-slider"),function(e,t){var i=$("#main-slider").height(),n=$(t).find(".bnr-body"),s=$(t).find(".bnr-media"),t=$(t).find(".bnr-footer"),r=n.outerHeight()/i*100,t=t.outerHeight()/i*100;$(n).css("height",r+"%"),$(s).css("height",100-r-t+"%")})},events:function(){var e=this;$(document).on("mouseenter tap",e.el.btn,function(){e.positionControl($(this))}),$(window).resize(function(){e.setSize(),e.sliderAutoSize()})}};function ON_MAIN_SWIPER_EVENT(e){var t=e.ID,e=e.type||"";"reachEnd"==e&&setTimeout(function(){var e=t.querySelector(".swiper-wrapper").querySelectorAll(".swiper-slide");utils.forEach(e,function(e,t){t.classList.remove("swiper-slide-active")}),e[e.length-1].classList.add("swiper-slide-active")},100),"mainSlider"==($(t).attr("data-swiper")||"")&&"slideChangeTransitionStart"==e&&($(t).find(".swiper-slide-active").hasClass("swiper-slide-duplicate")&&lazy.update(),mainSlider.setSize(),mainSlider.sliderAutoSize())}stage.addEventListener("CustomEvent",[{type:"SWIPER_ACTIVE_ELEMENT",handler:"ON_MAIN_SWIPER_EVENT"}]);