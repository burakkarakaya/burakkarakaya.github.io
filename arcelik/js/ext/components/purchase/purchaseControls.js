var purchaseControlsFN={newAddress:function(){$("#modal-select-address").modal("hide"),$("#modal-add-new-address").modal("show")},clubs:{hiddenForm:{el:{main:".club-form-hidden"},bind:function(){var e=this;$(e.el.main+" .club-info .btn").on("click",function(){$(this).parents(e.el.main).addClass("visible")})},init:function(){utils.detectEl($(this.el.main)[0])&&this.bind()}},init:function(){this.hiddenForm.init()}},payConfirm:function(){isMobile&&$(".cart-sum-confirm").insertAfter(".pay-body")},invAddress:function(){$(".pay-address-diff input").on("click",function(){$(this).is(":checked")?$(".pay-address").addClass("inv-address-ready"):$(".pay-address").removeClass("inv-address-ready")})},savedCards:{el:{main:"#pay-payment-card",new:".new-card input",item:".rl-item"},bind:function(){var e=this;$(e.el.main+" "+e.el.item+" input").on("click",function(){$(e.el.main+" "+e.el.new).is(":checked")?$(e.el.main).addClass("card-form-ready"):$(e.el.main).removeClass("card-form-ready")}),1==$(e.el.main+" "+e.el.item).length?$(e.el.main+" "+e.el.new).trigger("click"):$(e.el.main).addClass("saved-cards-ready")},init:function(){this.bind()}},addressTypes:function(){var e,i;$(".adr-types .radio-switch input").on("click",function(){i=$(this).parents(".adr-holder"),e=$(this).parents('[class^="rs-"]').index(),$(".adr-forms .adr-form.active",i).removeClass("active"),$(".adr-forms .adr-form:eq("+e+")",i).addClass("active")})},cartSum:function(){isMobile&&$(".cart-sum-total").on("click",function(){$("body").toggleClass("cart-sum-opened"),$("#overlay").off("click").on("click",function(){$("body").removeClass("cart-sum-opened")})})},init:function(){var e=this;utils.detectEl($(".page-cart")[0])?(e.clubs.init(),e.cartSum()):utils.detectEl($(".page-payment")[0])&&(e.payConfirm(),e.invAddress(),e.savedCards.init(),e.cartSum()),(utils.detectEl($("#modal-add-new-address")[0])||utils.detectEl($("#modal-guest-address")[0]))&&e.addressTypes()}},MCPayCounter={el:{main:".mcard-step-complete"},reveal:function(){var n=this,a=(a=$(n.el.main+" .time").attr("data-bind"))?new Date(a):n.calcTime();$.cachedScript(extJSPath+"jquery.countdown.min.js").done(function(e,i){n.setCounter(a)})},calcTime:function(){var e=$(this.el.main+" .time"),i=parseFloat(e.attr("data-time")),n=new Date;return n.setMinutes(n.getMinutes()+i),e.attr("data-bind",n),n},setCounter:function(e){$(this.el.main+" .time").countdown({until:e,layout:SITE_CONFIG.plugin.countdown.hour,timeSeparator:'<span class="sep">:</span>',onExpiry:function(){console.log("TIME IS OVER!")}})}};