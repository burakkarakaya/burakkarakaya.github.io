var PDPtss={el:{main:".tss"},obj:{},loadScripts:function(){stage.addEventListener("CustomEvent",[{type:"TSS_JS_LOADED",handler:"ON_TSS_JS_LOADED"}]),$.cachedScript(extJSPath+"threesixty.min.js").done(function(t,i){$.cachedScript(extJSPath+"nouislider.min.js").done(function(t,i){stage.dispatchEvent("CustomEvent","TSS_JS_LOADED",{})})})},lazy:function(){var i,e=this;new LazyLoad({elements_selector:".tss-plh",callback_reveal:function(t){i=$(t).parents(e.el.main).attr("data-tss"),"undefined"!=typeof noUiSlider?e.trigger(i):e.obj[i].init=!0}})},collect:function(){var i,e=this;$(e.el.main).each(function(t){i="tss"+t,e.obj[i]={main:{},slider:{},bar:{},tf:$(this).attr("data-total-frames"),fp:$(this).attr("data-frame-path"),tsready:!1,init:!1},e.obj[i].main=$(this),e.obj[i].bar=$(".tss-bar",this)[0],e.obj[i].slider=$(".tss-slider",this),$(this).attr("data-tss",i)})},trigger:function(n){var o=this,t="undefined"!=typeof DATA_TSS&&DATA_TSS[n]||[];o.obj[n].slider=o.obj[n].slider.ThreeSixty({totalFrames:0<t.length?t.length:o.obj[n].tf,imgArray:t,imgList:".tss-images",progress:".tss-spinner",imagePath:o.obj[n].fp,ext:".jpg",width:1280,height:850,responsive:!0,disableSpin:!0,navigation:!1,drag:!1,onReady:function(){o.obj[n].tsready||(o.obj[n].tsready=!0,noUiSlider.create(o.obj[n].bar,{start:[0],step:1,range:{min:[0],max:[o.obj[n].tf-1]}}),o.obj[n].main.addClass("tss-loaded"),o.obj[n].bar.noUiSlider.on("update",function(t,i,e,a,s){o.obj[n].slider.gotoAndPlay(parseFloat(t[0]))}))}})},init:function(){var t=this;t.collect(),t.lazy(),t.loadScripts()}};function ON_TSS_JS_LOADED(t){for(i in PDPtss.obj)PDPtss.obj[i].init&&PDPtss.trigger(i)}